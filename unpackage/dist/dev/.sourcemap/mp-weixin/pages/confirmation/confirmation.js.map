{"version":3,"sources":["uni-app:///main.js","webpack:///E:/1788小程序/car1788_h5share_20200725_new/pages/confirmation/confirmation.vue?23fd","webpack:///E:/1788小程序/car1788_h5share_20200725_new/pages/confirmation/confirmation.vue?58f9","webpack:///E:/1788小程序/car1788_h5share_20200725_new/pages/confirmation/confirmation.vue?c512","webpack:///E:/1788小程序/car1788_h5share_20200725_new/pages/confirmation/confirmation.vue?b919","uni-app:///pages/confirmation/confirmation.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kH;AACAA,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;;;AAG3D;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAymB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkJ7nB,yD;AACA;AACA,MADA,kBACA;AACA;AACA,iBADA;AAEA,mBAFA;AAGA,kBAHA;AAIA,kBAJA,EAIA;AACA,oBALA,EAKA;AACA,oBANA;AAOA,oBAPA;AAQA,mBARA;AASA,cATA;AAUA,gBAVA;AAWA,qBAXA;AAYA,qBAZA;AAaA,sBAbA;AAcA,oBAdA;AAeA,eAfA;AAgBA,cAhBA;;AAkBA,GApBA;AAqBA,QArBA,kBAqBA,OArBA,EAqBA;AACA;AACA;AACA;AACA,iCAHA,CAGA;AACA;AACA,GA3BA;AA4BA,QA5BA,kBA4BA,OA5BA,EA4BA;AACA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,GAhDA;AAiDA;AACA,aADA,uBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAXA,CAWA;AAXA,eAYA;AACA;AACA;AACA;AACA;AACA;AACA,OAzBA;AA0BA,KA5BA;AA6BA;AACA;AACA;AACA,KAhCA;AAiCA,YAjCA,sBAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,OAVA,MAUA;AACA;AACA;AACA;AACA;AACA,KAjDA;AAkDA,cAlDA,wBAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA,CACA;AACA;AACA,SAHA,MAGA;AACA,kCADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,OArBA;AAsBA,KA3EA;AA4EA,YA5EA,sBA4EA;AACA;AACA;AACA;AACA,iCADA;AAEA,0DAFA;AAGA,0BAHA;AAIA,mBAJA;AAKA,uBALA;AAMA,2CANA;AAOA,uBAPA;AAQA,8CARA;AASA,6BATA;AAUA;AACA,0CADA;AAEA,8CAFA;AAGA,kDAHA;AAIA,8CAJA;AAKA,uBALA;AAMA,wCANA;AAOA,oBAPA;AAQA,wBARA;AASA,0CATA;AAUA,wCAVA;AAWA,yBAXA,GAVA;;AAuBA,oBAvBA;AAwBA,sBAxBA;AAyBA,+CAzBA;AA0BA,2CA1BA;AA2BA,0CA3BA;AA4BA,gCA5BA;;AA8BA,OAhCA,MAgCA;AACA;AACA;AACA;AACA;AACA;AACA,kDADA;AAEA,kCAFA;AAGA,iCAHA;AAIA,qCAJA;AAKA,mCALA;AAMA,2BANA;AAOA,6BAPA;AAQA,gCARA;AASA,8BATA;AAUA,4BAVA;AAWA,kCAXA;AAYA,2BAZA;;AAcA;AACA;AACA,aAjBA;AAkBA,WAnBA;AAoBA,SArBA;AAsBA;AACA;AACA;AACA;AACA;AACA,0DADA;AAEA,iCAFA;AAGA,qCAHA;AAIA,mBAJA;AAKA,uBALA;AAMA,2CANA;AAOA,uBAPA;AAQA,wCARA;AASA,6BATA;AAUA,uCAVA;AAWA,oBAXA;AAYA,sBAZA;AAaA,6CAbA;AAcA,+CAdA;AAeA,2CAfA;AAgBA,0CAhBA;AAiBA,gCAjBA;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DADA;;AAGA,WALA,MAKA;AACA;AACA,4BADA;AAEA,4BAFA;AAGA,0BAHA;;;AAMA;AACA,SAdA,MAcA;AACA;AACA;AACA;AACA;AACA,oDADA;;AAGA,aAJA,MAIA;AACA;AACA,oDADA;;AAGA;AACA,WAXA,MAWA;AACA;AACA;AACA,4BADA;AAEA,4BAFA;AAGA,0BAHA;;AAKA;AACA;AACA;AACA,OAxCA;AAyCA,KAtMA,EAjDA,E","file":"pages/confirmation/confirmation.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/confirmation/confirmation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./confirmation.vue?vue&type=template&id=6596e626&\"\nvar renderjs\nimport script from \"./confirmation.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/confirmation/confirmation.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmation.vue?vue&type=template&id=6596e626&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmation.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"background: #eee;height: 100vh;\">\r\n\t\t<view style=\"padding-bottom:140upx;background: #eee;\">\r\n\t\t\t<view style=\"overflow: hidden;\">\r\n\t\t\t\t<view style=\"width: 750upx;background: #fff;margin-top: 10upx;padding: 20upx;box-sizing: border-box;\">\r\n\t\t\t\t\t<view style=\"display: flex;padding: 0 20upx;box-sizing: border-box;border-bottom: 1px solid #ccc;\">\r\n\t\t\t\t\t\t<view style=\"flex: 2;border-right:1px solid #ccc ;padding: 10rpx 0;\">\r\n\t\t\t\t\t\t\t<view style=\"font-size: 28upx;color: #999;\">\r\n\t\t\t\t\t\t\t\t姓名\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"font-size: 32upx;\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" :value=\"Userdetail.uname\" placeholder=\"请输入您的真实姓名\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"flex: 2;padding: 10rpx 20upx;\">\r\n\t\t\t\t\t\t\t<view style=\"font-size: 28upx;color: #999;\">\r\n\t\t\t\t\t\t\t\t手机号\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"font-size: 32upx;\">\r\n\t\t\t\t\t\t\t\t{{Userdetail.umobile}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"padding: 10upx 20upx;box-sizing: border-box;align-items: center;background: #fff\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view style=\"font-size: 22upx;color: #999999;padding: 10upx 0;\">\r\n\t\t\t\t\t\t\t\t所选门店\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<view style=\"font-size: 32upx;color: #333333;padding: 10upx 0;\">\r\n\t\t\t\t\t\t\t\t\t{{datalist.sname}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view style=\"display: flex;font-size: 22upx;align-items: center;padding: 10upx 0;\">\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<text style=\"color: #666666;\">总评分</text>\r\n\t\t\t\t\t\t\t\t\t\t<text style=\"margin-left: 5upx;color: #D60808;\">{{datalist.comScore}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view style=\"margin-left: 20upx;\">\r\n\t\t\t\t\t\t\t\t\t\t<text style=\"color: #666666;\">总订单</text>\r\n\t\t\t\t\t\t\t\t\t\t<text style=\"margin-left: 5upx;color: #D60808;\">{{datalist.sbuyCount}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view style=\"padding: 10upx 0;font-size: 22upx;display: flex;align-items: center;\">\r\n\t\t\t\t\t\t\t\t\t<image style=\"width: 22upx;height: 28upx;\" src=\"../../static/ding.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t<!-- postion就是ding -->\r\n\t\t\t\t\t\t\t\t\t<view style=\"margin-left: 20upx;\">\r\n\t\t\t\t\t\t\t\t\t\t{{datalist.saddress}} \r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-top: 20upx;background: #fff;padding: 20upx;\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t所选项目\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<scroll-view scroll-y=\"true\" style=\"height: 400upx;\" v-if=\"getId == 0\">\r\n\t\t\t\t\t\t\t<view style=\"padding: 20upx;\">\r\n\t\t\t\t\t\t\t\t<view v-for=\"(item,index) in shoplist\" :key='index'>\r\n\t\t\t\t\t\t\t\t\t<view v-for=\"(ite,inde) in item.items\" :key=\"inde\">\r\n\t\t\t\t\t\t\t\t\t\t<view v-for=\"(it,ind) in ite.goods \" :key=\"ind\" style=\"display: flex;justify-content: space-between;box-sizing: border-box;padding: 10upx 0;\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image style=\"width: 142upx;height: 142upx;\" :src=\"it.mgimgUrl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t<view style=\"flex: 1;padding: 10upx 20upx;background: #fff;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view style=\"font-size: 24upx;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{it.mgname}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view style=\"display: flex;margin-top: 20upx;font-size: 26upx;justify-content: space-between;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tX{{it.count}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view style=\"color: red;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t￥{{it.mgprice/100}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t<view style=\"padding: 20upx;\" v-if=\"getId != 0\">\r\n\t\t\t\t\t\t\t<view style=\"display: flex;justify-content: space-between;box-sizing: border-box;padding: 10upx 0;\">\r\n\t\t\t\t\t\t\t\t<image style=\"width: 142upx;height: 142upx;\" :src=\"ordergoods.thumbnail\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view style=\"flex: 1;padding: 10upx 20upx;background: #fff;\">\r\n\t\t\t\t\t\t\t\t\t<view style=\"font-size: 24upx;\">\r\n\t\t\t\t\t\t\t\t\t\t{{ordergoods.name}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view style=\"display: flex;margin-top: 20upx;font-size: 26upx;justify-content: space-between;\">\r\n\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t数量：1\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view style=\"color: red;\">\r\n\t\t\t\t\t\t\t\t\t\t\t￥{{ordergoods.price/100}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-top: 20upx;background: #fff;padding:0 20upx\">\r\n\t\t\t\t\t<view style=\"display: flex;padding: 20upx;justify-content: space-between;box-sizing: border-box;align-items: center;\">\r\n\t\t\t\t\t\t<view style=\"font-size: 26upx;\">\r\n\t\t\t\t\t\t\t可用余额\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-right: -20upx;\">\r\n\t\t\t\t\t\t\t<switch style=\"transform:scale(0.7)\" @change=\"getcheckstate\" :checked=\"ifchecked\" :disabled=\"isdisable\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-top: 20upx;background: #fff;padding:0 20upx;\">\r\n\t\t\t\t\t<view style=\"display: flex;padding: 20upx;justify-content: space-between;box-sizing: border-box;\">\r\n\t\t\t\t\t\t<view style=\"font-size: 26upx;\">\r\n\t\t\t\t\t\t\t抵扣\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"\">\r\n\t\t\t\t\t\t\t￥{{balance/100}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view style=\"position: fixed;bottom: 0;padding: 20upx;background: #fff;height: 120upx;width: 100%;display: flex;justify-content: center;box-sizing: border-box;\">\r\n\t\t\t<view style=\"display: flex;justify-content: space-between;width: 100%;padding: 0 30upx;\">\r\n\t\t\t\t<view style=\"display: flex;align-items: center;font-size: 28upx;\">\r\n\t\t\t\t\t<view style=\"margin-left: 20upx;\">合计</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"display: flex;align-items: center;font-size: 30upx;\">\r\n\t\t\t\t\t<view style=\"color: #F56B2D;\">￥{{needPayMoney/100}}</view>\r\n\r\n\t\t\t\t\t<view style=\"margin-left: 20upx;width: 160upx;height: 56upx;line-height: 56upx;\r\n\t\t\t\t\t\t  text-align: center;background:#F56B2D;border-radius: 100upx;color: #fff;\"\r\n\t\t\t\t\t @tap=\"goNavget\">\r\n\t\t\t\t\t\t提交订单\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst http = require('@/api/token.js')\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnumber: '0',\r\n\t\t\t\ttotalprice: 0,\r\n\t\t\t\tdatalist: [],\r\n\t\t\t\tshoplist: [], //保养数据\r\n\t\t\t\tordergoods: {}, //洗车数据\r\n\t\t\t\tUserdetail: {},\r\n\t\t\t\torderItems: [],\r\n\t\t\t\torderprice: 0,\r\n\t\t\t\tgetId: 0,\r\n\t\t\t\tbalance: 0,\r\n\t\t\t\tneedPayMoney: 0,\r\n\t\t\t\tifchecked: true,\r\n\t\t\t\tisdisable: false,\r\n\t\t\t\tmccountlock: 0,\r\n\t\t\t\tfromHd: 0,\r\n\t\t\t\totype: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow(options) {\r\n\t\t\tif (this.getId == 0) {\r\n\t\t\t\tconsole.log(uni.getStorageSync('Totalgoods'))\r\n\t\t\t\tthis.shoplist = uni.getStorageSync('Totalgoods')\r\n\t\t\t\tconsole.log(this.shoplist) //保养\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log(options)\r\n\t\t\tconsole.log(options.id)\r\n\t\t\tif (options.id != undefined) {\r\n\t\t\t\tthis.getId = options.id\r\n\t\t\t} else {\r\n\t\t\t\tthis.getId = options.goodsId\r\n\t\t\t}\r\n\t\t\tif (options.index != undefined) {\r\n\t\t\t\tthis.orderprice = Number(options.index)\r\n\t\t\t}\r\n\t\t\tif (options.orderFrom != undefined) {\r\n\t\t\t\tthis.fromHd = 1\r\n\t\t\t\tif(options.orderFrom === 'kj') {\r\n\t\t\t\t\tthis.otype = 5\r\n\t\t\t\t} else if(options.orderFrom === 'ms') {\r\n\t\t\t\t\tthis.otype = 3\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getmyinfo()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetmyinfo() {\r\n\t\t\t\thttp.post(`/app/my/getUserInfo.do`, {}).then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tconsole.log(res.data.mccountlock)\r\n\t\t\t\t\tthis.mccountlock = res.data.mccountlock  \r\n\t\t\t\t\tconsole.log(this.mccountlock)\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tthis.Userdetail = uni.getStorageSync('Userdetail')\r\n\t\t\t\t\t\tif (this.getId == 0) {\r\n\t\t\t\t\t\t\tthis.datalist = uni.getStorageSync('Arrayitem') //所选门店\r\n\t\t\t\t\t\t\tif(this.datalist.comScore == null){\r\n\t\t\t\t\t\t\t\tthis.datalist.comScore = 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(this.datalist.sbuyCount == null){\r\n\t\t\t\t\t\t\t\tthis.datalist.sbuyCount = 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log(uni.getStorageSync('Arrayitem'))\r\n\t\t\t\t\t\t\tuni.setStorageSync('stores', this.datalist)\r\n\r\n\t\t\t\t\t\t} //从保养过来\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.getwaterto()\r\n\t\t\t\t\t\t\t//从洗车过来\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getzCode()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetcheckstate: function(e) {\r\n\t\t\t\tthis.ifchecked = e.detail.value\r\n\t\t\t\tthis.getzCode()\r\n\t\t\t},\r\n\t\t\tgetzCode() {\r\n\t\t\t\tif (this.ifchecked == true) {\r\n\t\t\t\t\tconsole.log(this.orderprice)\r\n\t\t\t\t\t// console.log(this.balance)\r\n\t\t\t\t\tif (this.mccountlock >= this.orderprice) {\r\n\t\t\t\t\t\tthis.balance = this.orderprice\r\n\t\t\t\t\t\tthis.needPayMoney =  0\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.balance = this.mccountlock\r\n\t\t\t\t\t\tthis.needPayMoney = this.orderprice - this.mccountlock\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.needPayMoney = this.orderprice\r\n\t\t\t\t\tthis.balance = 0\r\n\t\t\t\t\tconsole.log(this.needPayMoney)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetwaterto() {\r\n\t\t\t\tvar lat = uni.getStorageSync('location').lat\r\n\t\t\t\tvar lng = uni.getStorageSync('location').lng\r\n\t\t\t\thttp.post(`/app/goods/findEsGoodsByDistance.do?id=${this.getId}&lat=${lat}&lon=${lng}`, {}).then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.datalist = res.data.store\r\n\t\t\t\t\tif(this.datalist.comScore == null){\r\n\t\t\t\t\t\tthis.datalist.comScore = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.datalist.sbuyCount == null){\r\n\t\t\t\t\t\tthis.datalist.sbuyCount = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.setStorageSync('stores', this.datalist)\r\n\t\t\t\t\tthis.ordergoods = res.data\r\n\t\t\t\t\tif(this.ordergoods.isnobalance == 0){\r\n\t\t\t\t\t\tthis.isdisable = false //不禁用\r\n\t\t\t\t\t\tthis.ifchecked = true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.isdisable = true //禁用\r\n\t\t\t\t\t\tthis.ifchecked = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.orderprice = this.ordergoods.price\r\n\t\t\t\t\tconsole.log(this.orderprice)\r\n\t\t\t\t\tthis.getzCode()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoNavget() {\r\n\t\t\t\tif (this.getId != 0) {\r\n\t\t\t\t\tconsole.log(this.ordergoods.price, this.needPayMoney, this.balance)\r\n\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\"balance\": this.balance,\r\n\t\t\t\t\t\t\"memberId\":uni.getStorageSync('Userdetail').uid,\r\n\t\t\t\t\t\t\"carMemberId\": 0,\r\n\t\t\t\t\t\t\"cmid\": 0,\r\n\t\t\t\t\t\t\"goodsNum\": 1,\r\n\t\t\t\t\t\t\"needPayMoney\": this.needPayMoney,\r\n\t\t\t\t\t\t\"omileage\": 0,\r\n\t\t\t\t\t\t\"orderAmount\": this.ordergoods.price,\r\n\t\t\t\t\t\t\"orderGoodsType\": 0,\r\n\t\t\t\t\t\t\"orderItems\": [{\r\n\t\t\t\t\t\t\t\"catId\": this.ordergoods.catId,\r\n\t\t\t\t\t\t\t\"goodsId\": this.ordergoods.goodsId,\r\n\t\t\t\t\t\t\t\"goodsType\": this.ordergoods.goodsType,\r\n\t\t\t\t\t\t\t\"image\": this.ordergoods.thumbnail,\r\n\t\t\t\t\t\t\t\"itemId\": 0,\r\n\t\t\t\t\t\t\t\"name\": this.ordergoods.name,\r\n\t\t\t\t\t\t\t\"num\": 1,\r\n\t\t\t\t\t\t\t\"orderId\": 0,\r\n\t\t\t\t\t\t\t\"price\": this.ordergoods.price,\r\n\t\t\t\t\t\t\t\"unit\": this.ordergoods.unit,\r\n\t\t\t\t\t\t\t\"isFromHd\": 0\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\"otype\": 0,\r\n\t\t\t\t\t\t\"payType\": 0,\r\n\t\t\t\t\t\t\"shipMobile\": this.Userdetail.umobile,\r\n\t\t\t\t\t\t\"shipName\": this.Userdetail.uname,\r\n\t\t\t\t\t\t\"storeId\": this.datalist.storeId,\r\n\t\t\t\t\t\t\"relatedOrderId\":null\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//保养过来\r\n\t\t\t\t\tthis.shoplist.forEach((r)=>{\r\n\t\t\t\t\t\tr.items.forEach((e) =>{\r\n\t\t\t\t\t\t\te.goods.forEach((s)=>{\r\n\t\t\t\t\t\t\t  var orderItems = {\r\n\t\t\t\t\t\t\t\t\t\"changedGoodsId\":s.changedGoodsId,\r\n\t\t\t\t\t\t\t\t\t\"catId\": s.mgcatId,\r\n\t\t\t\t\t\t\t\t\t\"goodsId\": s.mgid,\r\n\t\t\t\t\t\t\t\t\t\"goodsType\": 'normal',\r\n\t\t\t\t\t\t\t\t\t\"image\": s.mgimgUrl,\r\n\t\t\t\t\t\t\t\t\t\"itemId\": 0,\r\n\t\t\t\t\t\t\t\t\t\"isFromHd\": 0,\r\n\t\t\t\t\t\t\t\t\t\"name\": s.mgname,\r\n\t\t\t\t\t\t\t\t\t\"num\": s.count,\r\n\t\t\t\t\t\t\t\t\t\"orderId\": 0,\r\n\t\t\t\t\t\t\t\t\t\"price\": s.mgprice,\r\n\t\t\t\t\t\t\t\t\t\"unit\": '个'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.orderItems.push(orderItems)\r\n\t\t\t\t\t\t\t\tconsole.log(this.orderItems)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tvar choosecar = uni.getStorageSync('maintainCar')\r\n\t\t\t\t\tconsole.log(choosecar)\r\n\t\t\t\t\tconsole.log(this.needPayMoney, this.balance)\r\n\t\t\t\t\t// var memberId = uni.getStorageSync('Userdetail').uid\r\n\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\"memberId\":uni.getStorageSync('Userdetail').uid,\r\n\t\t\t\t\t\t\"balance\": this.balance,\r\n\t\t\t\t\t\t\"carMemberId\": choosecar.id,\r\n\t\t\t\t\t\t\"cmid\": 0,\r\n\t\t\t\t\t\t\"goodsNum\": 1,\r\n\t\t\t\t\t\t\"needPayMoney\": this.needPayMoney,\r\n\t\t\t\t\t\t\"omileage\": 0,\r\n\t\t\t\t\t\t\"orderAmount\": this.orderprice,\r\n\t\t\t\t\t\t\"orderGoodsType\": 1,\r\n\t\t\t\t\t\t\"orderItems\": this.orderItems,\r\n\t\t\t\t\t\t\"otype\": 1,\r\n\t\t\t\t\t\t\"payType\": 0,\r\n\t\t\t\t\t\t\"ovehicleNum\": choosecar.vehicleNum,\r\n\t\t\t\t\t\t\"shipMobile\": this.Userdetail.umobile,\r\n\t\t\t\t\t\t\"shipName\": this.Userdetail.uname,\r\n\t\t\t\t\t\t\"storeId\": this.datalist.storeId,\r\n\t\t\t\t\t\t\"relatedOrderId\":null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\thttp.post('/app/mshd/addEsChangOrder.do', data).then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t// console.log(res.data.oid)\r\n\t\t\t\t\tuni.setStorageSync('orderId', res.data)\r\n\t\t\t\t\tif (this.needPayMoney <= 0) {\r\n\t\t\t\t\t\tif(uni.getStorageSync('orderId') != null){\r\n\t\t\t\t\t\t\tvar orderIds = uni.getStorageSync('orderId').oid\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: `../success/success?id=${orderIds}`\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (res.code === 1) {\r\n\t\t\t\t\t\t\tuni.setStorageSync('orders', res.data)\r\n\t\t\t\t\t\t\tif (this.getId == 0) {\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: '../payment/payment?id=0&ids=1',\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: '../payment/payment?id=0&ids=0',\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(res.msg)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.orderItems = []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"],"sourceRoot":""}