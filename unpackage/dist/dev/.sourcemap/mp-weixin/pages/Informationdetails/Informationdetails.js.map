{"version":3,"sources":["uni-app:///main.js","webpack:///E:/1788小程序/car1788_h5share_20200725_new/pages/Informationdetails/Informationdetails.vue?ff0c","webpack:///E:/1788小程序/car1788_h5share_20200725_new/pages/Informationdetails/Informationdetails.vue?ac27","webpack:///E:/1788小程序/car1788_h5share_20200725_new/pages/Informationdetails/Informationdetails.vue?3270","webpack:///E:/1788小程序/car1788_h5share_20200725_new/pages/Informationdetails/Informationdetails.vue?188b","uni-app:///pages/Informationdetails/Informationdetails.vue"],"names":["createPage","Page"],"mappings":"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","file":"pages/Informationdetails/Informationdetails.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/Informationdetails/Informationdetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./Informationdetails.vue?vue&type=template&id=3debcaf4&\"\nvar renderjs\nimport script from \"./Informationdetails.vue?vue&type=script&lang=js&\"\nexport * from \"./Informationdetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Informationdetails/Informationdetails.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Informationdetails.vue?vue&type=template&id=3debcaf4&\"","var components = {\n  jyfParser: function() {\n    return import(\n      /* webpackChunkName: \"components/jyf-parser/jyf-parser\" */ \"@/components/jyf-parser/jyf-parser.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Informationdetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Informationdetails.vue?vue&type=script&lang=js&\"","<template>\n\n\t<view style=\"background: #E6E6E6;\">\n\t\t<view v-if=\"comsId == 1\" style=\"position: fixed;width: 100%;top: 0;bottom:140upx ;\" @click=\"getchangecomsid()\"></view>\n\t\t<view id=\"coms\" style=\"background: #FFFFFF;padding:20upx 30upx\">\n\t\t\t<jyf-parser :html=\"nodes\"></jyf-parser>\n\t\t</view>\n\t\t<view style=\"margin-top: 20upx;background: #FFFFFF;padding:20upx \">\n\t\t\t<view style=\"text-align: center;\">\n\t\t\t\t——评论——\n\t\t\t</view>\n\t\t\t<view>\n\t\t\t\t<view style=\"display: flex;padding: 10upx 0;\" v-for=\"(item,index) in commentlist\" :key=\"index\">\n\t\t\t\t\t<image :src=\"item.rmemberUrl\" mode=\"\" style=\"width: 78upx;height: 78upx;border-radius:100upx ;\"></image>\n\t\t\t\t\t<view style=\"flex: 1;padding: 0 30upx;\">\n\t\t\t\t\t\t<view style=\"display: flex;align-items: center;width: 100%;justify-content: space-between;\">\n\t\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t\t<view style=\"font-size: 28upx;\">\n\t\t\t\t\t\t\t\t\t{{item.rmemberName}}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-if=\"item.minours >24\" style=\"font-size: 22upx;margin-top: 10upx;\">\n\t\t\t\t\t\t\t\t\t{{item.minusDays}}天前\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-if=\"item.minours < 24 && item.minute >60\" style=\"font-size: 22upx;margin-top: 10upx;\">\n\t\t\t\t\t\t\t\t\t{{item.minours}}小时前\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-if=\"item.minute < 60 &&item.minute > 1\" style=\"font-size: 22upx;margin-top: 10upx;\">\n\t\t\t\t\t\t\t\t\t{{item.minute}}分钟前  \n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-if=\"item.minute < 1\" style=\"font-size: 22upx;margin-top: 10upx;\">\n\t\t\t\t\t\t\t\t\t刚刚 \n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"\" style=\"font-size: 24upx;\" @click=\"getReply(item.icid,item.rmemberName)\">\n\t\t\t\t\t\t\t\t回复\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"font-size: 24upx;padding: 10upx 0;\">\n\t\t\t\t\t\t\t{{item.ccontent}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"background: #EEEEEE;padding: 20upx;\" v-if=\"item.childs.length != 0\">\n\t\t\t\t\t\t\t<view v-for=\"(ite,inde) in item.childs\" :key=\"inde\" style=\"font-size: 24upx;padding: 5upx 0;\">\n\t\t\t\t\t\t\t\t{{ite.rmemberName}} 回复: {{ite.ccontent}}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- <view v-if=\"pid == 0\" style=\"width: 100%;height: 133upx;position: fixed;bottom: 0;display: flex;justify-content: space-between;\n\t\t\talign-items: center;background: #FFFFFF;padding: 0 30upx;box-sizing: border-box;border-top: 1px solid #EEEEEE;\">\n\t\t\t<view style=\"width: 540upx;height: 52upx;border-radius: 30upx;border: 1px solid #999;display: flex;justify-content: center;\"\n\t\t\t @click=\"getcomsId()\">\n\n\t\t\t\t<input type=\"text\" :value=\"contant\" placeholder=\"写评论\" style=\"width: 480upx;height: 100%;font-size: 26upx;line-height: 52upx;\"\n\t\t\t\t @blur=\"getcontant\" />\n\t\t\t</view>\n\t\t\t<view v-if=\"comsId == 1\" style=\"width: 88upx;height: 38upx;border-radius: 50upx;font-size: 24upx;\n\t\t\t\tbackground: #F66C2D;text-align: center;line-height: 38upx;color: #FFFFFF;\"\n\t\t\t @click=\"getvalue()\">\n\t\t\t\t评论\n\t\t\t</view>\n\t\t\t<view v-if=\"comsId == 0\" style=\"display: flex;align-items: center;\">\n\t\t\t\t<image style=\"width: 40upx;height: 40upx;\" src=\"../../static/tiaop.png\" @click=\"getjumpcom()\"></image>\n\t\t\t\t<image style=\"width: 40upx;height: 40upx;margin-left: 20upx;\" v-if=\"favId == 0\" src=\"../../static/kfav.png\" mode=\"\"\n\t\t\t\t @click=\"getFav()\"></image>\n\t\t\t\t<image style=\"width: 40upx;height: 40upx;margin-left: 20upx;\" v-if=\"favId == 1\" src=\"../../static/fav.png\" mode=\"\"\n\t\t\t\t @click=\"getFav()\"></image>\n\t\t\t</view>\n\t\t</view> -->\n\t\t<!-- <view v-if=\"pid != 0\" style=\"width: 100%;height: 133upx;position: fixed;bottom: 0;left: 0;display: flex;justify-content: space-between;\n\t\t\talign-items: center;background: #FFFFFF;padding: 0 30upx;box-sizing: border-box;border-top: 1px solid #EEEEEE;\">\n\t\t\t<view style=\"width: 540upx;height: 52upx;border-radius: 30upx;border: 1px solid #999;display: flex;justify-content: center;\">\n\t\t\t\t<input type=\"text\" :value=\"contant\" placeholder=\"写回复\" style=\"width: 480upx;height: 100%;font-size: 26upx;line-height: 52upx;\"\n\t\t\t\t @blur=\"getcontant\" />\n\t\t\t</view>\n\t\t\t<view style=\"width: 88upx;height: 38upx;border-radius: 50upx;font-size: 24upx;\n\t\t\t\tbackground: #F66C2D;text-align: center;line-height: 38upx;color: #FFFFFF;\"\n\t\t\t @click=\"getvalue()\">\n\t\t\t\t回复\n\t\t\t</view>\n\t\t</view> -->\n\t\t<!-- <view v-if=\"pid != 0\" style=\"width: 600upx;position: fixed;left: 0;top: 0;bottom: 140upx;\" @click=\"changPid()\">\n\n\t\t</view> -->\n\t</view>\n\n</template>\n\n<script>\n\tconst http = require('@/api/token.js')\n\timport parser from \"@/components/jyf-parser/jyf-parser\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tinfodetail: [],\n\t\t\t\tdate: new Date().toISOString().slice(0, 10),\n\t\t\t\tdatehours:new Date().getTime(),\n\t\t\t\tnodes: [],\n\t\t\t\ttime: '',\n\t\t\t\tcommentlist: [],\n\t\t\t\tcontant: '',\n\t\t\t\tinfoId: 0,\n\t\t\t\tpid: 0,\n\t\t\t\treplay: '',\n\t\t\t\tfavId: 0,\n\t\t\t\tdeleId: 0,\n\t\t\t\tcomsId: 0\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\t\"jyf-parser\": parser\n\t\t},\n\t\tonReachBottom() {\n\t\t\tif (this.isLastPage != true) {\n\t\t\t\tvar page = this.Pagenum + 1\n\t\t\t\tthis.getinfocom(page)\n\t\t\t} else {\n\t\t\t\tconsole.log(\"没有更多\")\n\t\t\t}\n\t\t},\n\t\tonShareAppMessage() {\n\t\t\tconsole.log(this.infoId)\n\t\t\tthis.getshow()\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tthis.getshow()\n\t\t\tsetTimeout(function() {\n\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t}, 1000);\n\t\t},\n\t\tonLoad(options) {\n\t\t\tthis.infoId = options.id\n\t\t\tthis.getshow()\n\n\t\t},\n\n\t\tmethods: {\n\t\t\tgetjumpcom() {\n\t\t\t\tconst query = uni.createSelectorQuery();\n\t\t\t\tquery.selectAll('#coms').boundingClientRect().exec((res) => {\n\t\t\t\t\tconsole.log(res[0])\n\t\t\t\t\tvar height = 0\n\t\t\t\t\tvar top = 0\n\t\t\t\t\tres[0].forEach((r) => {\n\t\t\t\t\t\theight = r.height\n\t\t\t\t\t})\n\t\t\t\t\tvar Height = height\n\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\tscrollTop: Height\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetshow() {\n\t\t\t\thttp.post(`/app/information/findQzInformation.do?id=${this.infoId}`, {}).then(res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif(res.data != null){\n\t\t\t\t\t\tthis.infodetail = res.data\n\t\t\t\t\t\tthis.formatRichText(this.infodetail.content)\n\t\t\t\t\t\tthis.time = this.infodetail.utime\n\t\t\t\t\t\tthis.returnCollecte()\n\t\t\t\t\t\tthis.getinfocom(1)\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:'暂无数据',\n\t\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\t\n\t\t\t},\n\t\t\tgetinfocom(pag) {\n\t\t\t\tvar page = pag\n\t\t\t\thttp.post(\n\t\t\t\t\t`/app/informationcomment/findQzInformationCommentsByInfoId.do?page=${page}&rows=10&informationId=${this.infoId}`, {}\n\t\t\t\t).then(res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tthis.isLastPage = res.data.isLastPage\n\t\t\t\t\tthis.Pagenum = res.data.pageNum\n\t\t\t\t\tif (page == 1) {\n\t\t\t\t\t\tthis.commentlist = res.data.list\n\t\t\t\t\t\tthis.getforcomlist(this.commentlist)\n\t\t\t\t\t\tconsole.log(this.commentlist)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.commentlist = this.commentlist.concat(res.data.list)\n\t\t\t\t\t\tthis.getforcomlist(this.commentlist)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetforcomlist(list){\n\t\t\t\t\n\t\t\t\tlist.forEach((r) =>{\n\t\t\t\t\tconst dateTime = 1000 * 60 * 60 * 24\n\t\t\t\t\tconst hour =  60 * 60*1000\n\t\t\t\t\tconst minute = 1000*60\n\t\t\t\t\tr.comday = r.createTime.slice(0,10)\n\t\t\t\t\tr.comhours = new Date(r.createTime.replace(/-/g, '/')).getTime()\n\t\t\t\t\tr.minusDays = Math.floor(Math.abs(Date.parse(this.date) - Date.parse(r.comday))/dateTime)\n\t\t\t\t\tr.minours =  Math.floor(Math.abs(this.datehours - r.comhours)/hour) \n\t\t\t\t\tr.minute =  Math.floor(Math.abs(this.datehours - r.comhours)/minute)\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetcontant: function(e) {\n\t\t\t\tconsole.log(e.detail.value)\n\t\t\t\tthis.contant = e.detail.value\n\t\t\t},\n\t\t\tchangPid() {\n\t\t\t\tthis.pid = 0\n\t\t\t},\n\t\t\tgetvalue() {\n\t\t\t\tif (this.pid == 0) {\n\t\t\t\t\tif (this.contant != '') {\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\"ccontent\": this.contant,\n\t\t\t\t\t\t\t\"infoId\": this.infoId,\n\t\t\t\t\t\t\t\"pid\": 0,\n\t\t\t\t\t\t\t\"replay\": \"\",\n\t\t\t\t\t\t}\n\t\t\t\t\t\thttp.post('/app/informationcomment/addQzInformationComment.do', data, 'application/x-www-form-urlencoded').then(\n\t\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tif (res.code == 1) {\n\t\t\t\t\t\t\t\t\tthis.getshow()\n\t\t\t\t\t\t\t\t\tthis.contant = ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tif (this.contant != '') {\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\"ccontent\": this.contant,\n\t\t\t\t\t\t\t\"infoId\": this.infoId,\n\t\t\t\t\t\t\t\"pid\": this.pid,\n\t\t\t\t\t\t\t\"replay\": this.replay,\n\t\t\t\t\t\t}\n\t\t\t\t\t\thttp.post('/app/informationcomment/addQzInformationComment.do', data, 'application/x-www-form-urlencoded').then(\n\t\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tif (res.code == 1) {\n\t\t\t\t\t\t\t\t\tthis.getshow()\n\t\t\t\t\t\t\t\t\tthis.contant = ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tgetReply(id, name) {\n\t\t\t\tconsole.log(id)\n\t\t\t\tthis.pid = id\n\t\t\t\tthis.replay = name\n\n\t\t\t},\n\t\t\tformatRichText(html) { //控制小程序中图片大小\n\t\t\t\t// console.log(html)\n\t\t\t\tconsole.log(1)\n\t\t\t\tlet newContent = html.replace(/<img[^>]*>/gi, function(match, capture) {\n\t\t\t\t\tmatch = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\n\t\t\t\t\tmatch = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\n\t\t\t\t\tmatch = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\n\t\t\t\t\treturn match;\n\t\t\t\t});\n\t\t\t\tnewContent = newContent.replace(/style=\"[^\"]+\"/gi, function(match, capture) {\n\t\t\t\t\tmatch = match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');\n\t\t\t\t\treturn match;\n\t\t\t\t});\n\t\t\t\tnewContent = newContent.replace(/<br[^>]*\\/>/gi, '');\n\t\t\t\tnewContent = newContent.replace(/\\<img/gi,\n\t\t\t\t\t'<img style=\"max-width:100%;height:auto;display:inline-block;margin:10rpx auto;\"');\n\t\t\t\t// return newContent;\n\t\t\t\tthis.nodes = newContent\n\t\t\t\t// console.log(this.nodes)\n\t\t\t\tconsole.log(2)\n\t\t\t},\n\t\t\tgetcomsId() {\n\t\t\t\tthis.comsId = 1\n\t\t\t},\n\t\t\tgetchangecomsid() {\n\t\t\t\tthis.comsId = 0\n\t\t\t},\n\t\t\tgetaccesstoken() {\n\t\t\t\tvar _this = this\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=wxe608c237e5c92a50&secret=6c52e7ee14d7aeafc343a24208d5cd74',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\n\t\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\t\t_this.ACCESS_TOKEN = res.data.access_token\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetinspect() {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `https://api.weixin.qq.com/wxa/img_sec_check?access_token=${this.ACCESS_TOKEN}`,\n\t\t\t\t\tmethod:'POST',\n\t\t\t\t\tdata:{\n\t\t\t\t\t\tmedia:''\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `https://api.weixin.qq.com/wxa/msg_sec_check?access_token=${this.ACCESS_TOKEN}`,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcontent: this.contant\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\n\t\t\t},\n\t\t\tgetFav() {\n\t\t\t\tif (this.favId == 0) {\n\t\t\t\t\tthis.favId = 1\n\t\t\t\t\tthis.getcollaction()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'已收藏',\n\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.favId = 0\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'取消收藏',\n\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t})\n\t\t\t\t\tthis.delecollaction()\n\t\t\t\t}\n\n\n\t\t\t},\n\t\t\tgetcollaction() {\n\t\t\t\tvar favData = {\n\t\t\t\t\t\"cother\": this.infodetail.subtitle,\n\t\t\t\t\t\"ctitle\": this.infodetail.title,\n\t\t\t\t\t\"ctype\": 3,\n\t\t\t\t\t\"cobjId\": this.infodetail.id\n\t\t\t\t}\n\t\t\t\thttp.post('/app/EsCollection/addEsCollection.do', favData, 'application/x-www-form-urlencoded').then(res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tthis.deleId = res.data.id\n\t\t\t\t\tthis.returnCollecte()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '收藏成功',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\tdelecollaction() {\n\t\t\t\thttp.post(`/app/EsCollection/deleteEsCollection.do?id=${this.deleId}`, {}).then(res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tthis.returnCollecte()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '取消收藏',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t},\n\t\t\treturnCollecte() {\n\t\t\t\tvar objId = this.infodetail.id\n\t\t\t\thttp.post(`/app/EsCollection/findMemberEsCollection.do?type=3&objId=${objId}`, {}).then(res => {\n\t\t\t\t\tconsole.log(res)\n\n\t\t\t\t\tif (res.data != null) {\n\t\t\t\t\t\tthis.favId = 1\n\t\t\t\t\t\tthis.deleId = res.data.id\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.favId = 0\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t}\n\n\t\t},\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":""}